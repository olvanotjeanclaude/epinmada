import{h as s}from"./makeRequest-91bdc274.js";import{S as i}from"./sweetalert2.all-3551c891.js";import"./axios-5779fc5d.js";import"./_commonjsHelpers-59ed3296.js";$(document).ready(function(){u(),$("#preloader").addClass("loaded"),$("#loginForm").submit(l)});async function l(o){o.preventDefault();const n={email:$("input[type='email']").val(),password:$("input[type='password']").val()},a=localStorage.getItem("redirectTo");await s.get("/token"),await s.post("/login",n).then(async r=>{const e=r.data;e.type=="admin"||e.type=="staff"?location.href="/admin":a?(localStorage.removeItem("redirectTo"),location.href=a):location.href="/u"}).catch(r=>{const e=r.response,{message:c}=e.data;let t;switch(e.status){case 401:t=c;break;case 422:t="Veuillez remplir les champs requis";break;case 500:t="Erreur du serveur";break;default:t="Erreur inconnue. Réessayez plus tard.";break}i.fire({title:"Erreur",text:t,icon:"error",confirmButtonColor:"#D72323",confirmButtonText:"D'accord"})})}function u(){const o=localStorage.getItem("signupMessage");o&&(i.fire({title:"Succès",text:o,icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"D'accord"}),localStorage.removeItem("signupMessage"))}
