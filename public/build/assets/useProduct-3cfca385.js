import{r as n,g,f as c,U as o}from"./700-2286912f.js";import{u as i}from"./useMutation-5c286b11.js";import{h as u}from"./makeRequest-91bdc274.js";const k=()=>{const[t,e]=n.useState("all"),[a,d]=n.useState(""),[r,y]=n.useState(1),{data:h,error:m,isLoading:p,isError:l}=g({queryKey:["front.products",r,a,t],queryFn:async()=>await u.get(`/products?page=${r}`,{params:{tag:t,query:a}}).then(s=>s.data).catch(o.catch),keepPreviousData:!0,onError:s=>new Error(s.message)});return{tag:t,setTag:e,currentPage:r,setCurrentPage:y,data:h,error:m,isLoading:p,isError:l,query:a,setQuery:d}},q=()=>{const t=c();return i({mutationKey:["addToCart"],mutationFn:async e=>await u.post("/baskets",{product_id:e}).then(a=>a.data).catch(o.catch),onSuccess(e){t.invalidateQueries(["front.baskets"])}})},E=()=>{const t=c();return i({mutationKey:["deleteCart"],mutationFn:async e=>await u.delete(`/baskets/${e}`).then(a=>a.data).catch(o.catch),onSuccess(e){t.invalidateQueries(["front.baskets"])}})};export{q as a,k as b,E as u};
