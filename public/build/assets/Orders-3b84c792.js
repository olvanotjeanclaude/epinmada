import{j as e,a8 as p,S as h,L as u,w as r,I as i,M as f,ae as j,r as l,d as g,g as y,H as b,Q as C,U as w}from"./700-2286912f.js";import{P as v}from"./PageTitle-327b543a.js";import{h as k}from"./makeRequest-91bdc274.js";import{e as E,f as O,O as S,h as _}from"./OrderStatus-44760149.js";import{C as D,a as L,G as c}from"./Grid-163510bf.js";import{S as T}from"./Snackbar-931d7124.js";import{A}from"./Grow-efdaed09.js";import"./_commonjsHelpers-59ed3296.js";import"./axios-5779fc5d.js";import"./Chip-000a6ca8.js";function P({order:t}){const{product:a,sale:s}=t;return e.jsx(D,{sx:{border:`1px solid ${p[300]}`,padding:0,flexGrow:1},elevation:0,children:e.jsxs(L,{children:[e.jsxs(h,{direction:"row",mb:1,flexWrap:"wrap",justifyContent:"space-between",children:[e.jsx(u,{to:a.route_detail,target:"_blank",style:{textDecoration:"none"},children:e.jsx(r,{variant:"h5",children:E(a.name)})}),e.jsx(r,{variant:"h5",children:O(t.created_at)})]}),e.jsxs(i,{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"space-between",children:[e.jsxs(i,{display:"flex",gap:1,children:[e.jsx(f,{alt:"Remy Sharp",src:a.image_url,sx:{width:50,height:50}}),e.jsxs(i,{children:[e.jsxs(r,{variant:"h6",children:["No ",e.jsx("b",{children:s.unique_id})," "]}),e.jsx(S,{text:s.statusText,status:s.status})]})]}),e.jsxs(i,{display:"flex",flexDirection:{xs:"row",xl:"column"},gap:{xs:1,xl:0},alignItems:"end",children:[e.jsx(r,{variant:"h6",color:"success",children:t.formattedSubAmount}),e.jsx(r,{variant:"subtitle2",color:j[500],children:_(s.payment_mode)})]})]})]})})}function B(){const[t,a]=l.useState(!1),{state:s}=g(),{data:o,isLoading:d,error:x,isError:m}=y({queryKey:"front.orders",queryFn:async()=>k.get("/my-orders").then(n=>n.data).catch(w.catch)});return l.useEffect(()=>{(s==null?void 0:s.type)=="success"&&a(!0)},[s]),m?e.jsx(b,{error:x}):d?e.jsx(C,{}):e.jsxs(e.Fragment,{children:[e.jsx(T,{open:t,autoHideDuration:5e3,onClose:()=>a(!1),children:e.jsx(A,{variant:"filled",onClose:()=>a(!1),severity:"success",children:s==null?void 0:s.message})}),e.jsx(v,{title:"Mes Commandes"}),e.jsx(c,{container:!0,spacing:1,mb:2,children:o.map(n=>e.jsx(c,{item:!0,md:6,sx:{width:"100%"},children:e.jsx(P,{order:n})},n.id))}),o.length==0?e.jsx(r,{children:"Pas De commandes!"}):e.jsx(e.Fragment,{})]})}export{B as default};
